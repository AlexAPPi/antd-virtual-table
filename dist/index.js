import e,{memo as t,createElement as o,PureComponent as r,useRef as n,useState as l,useCallback as i,useMemo as a,useEffect as s}from"react";import{ConfigProvider as c,Empty as d,Table as u}from"antd";function h(e,...t){for(let o=0;o<t.length;o++){const r=t[o];"function"==typeof r&&r(e),"object"==typeof r&&(r.current=e)}}function f(...e){return t=>h(t,...e)}const m={}.hasOwnProperty;function p(...e){const t=[];for(let e=0;e<arguments.length;e++){const r=arguments[e];if(!r)continue;const n=typeof r;if("string"===n||"number"===n)t.push(r);else if(Array.isArray(r)){if(r.length){const e=p.apply(null,r);e&&t.push(e)}}else if("object"===n){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){t.push(r.toString());continue}for(var o in r)m.call(r,o)&&r[o]&&t.push(o)}}return t.join(" ")}function g(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var v=function e(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){if(t.constructor!==o.constructor)return!1;var r,n,l;if(Array.isArray(t)){if((r=t.length)!=o.length)return!1;for(n=r;0!=n--;)if(!e(t[n],o[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===o.toString();if((r=(l=Object.keys(t)).length)!==Object.keys(o).length)return!1;for(n=r;0!=n--;)if(!Object.prototype.hasOwnProperty.call(o,l[n]))return!1;for(n=r;0!=n--;){var i=l[n];if(!e(t[i],o[i]))return!1}return!0}return t!=t&&o!=o};const x="virtial-grid-item";const w=t((function(t){const{style:o,column:r,data:n,originalColumnIndex:l,columnIndex:i,rowIndex:a,isScrolling:s}=t,c=n&&n[a],d=r.dataIndex&&c?c[r.dataIndex]:void 0,u=r.onCell&&r.onCell(c,i,s),h=r.render,f=h?h(d,c,i,s):d;return e.createElement("div",{...u,"data-row-index":a,"data-column-index":i,"data-original-column-index":l,style:{...u?.style,...o},className:p(x,u?.className)},f)}),((e,t)=>{if(e.originalColumnIndex!==t.originalColumnIndex||e.columnIndex!==t.columnIndex||e.rowIndex!==t.rowIndex)return!1;if(e.style!==t.style&&!v(e.style,t.style))return!1;const o=t.column.shouldCellUpdate;if(o){const r=e.data;if(!o(t.data,r,t.isScrolling))return!0}return e.data===t.data&&e.column.dataIndex===t.column.dataIndex&&e.column.onCell===t.column.onCell&&e.column.render===t.column.render}));function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},C.apply(this,arguments)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var b=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function _(e,t){if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(r=e[o],n=t[o],!(r===n||b(r)&&b(n)))return!1;var r,n;return!0}function I(e,t){var o;void 0===t&&(t=_);var r,n=[],l=!1;return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return l&&o===this&&t(i,n)||(r=e.apply(this,i),l=!0,o=this,n=i),r}}var R="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function M(e){cancelAnimationFrame(e.id)}var T=-1;var P=null;function F(e){if(void 0===e&&(e=!1),null===P||e){var t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";var r=document.createElement("div"),n=r.style;return n.width="100px",n.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?P="positive-descending":(t.scrollLeft=1,P=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),P}return P}var O=150,E=function(e){var t=e.columnIndex;return e.data,e.rowIndex+":"+t},W=null,k=null,N=null;function L(e){var t,n=e.getColumnOffset,l=e.getColumnStartIndexForOffset,i=e.getColumnStopIndexForStartIndex,a=e.getColumnWidth,s=e.getEstimatedTotalHeight,c=e.getEstimatedTotalWidth,d=e.getOffsetForColumnAndAlignment,u=e.getOffsetForRowAndAlignment,h=e.getRowHeight,f=e.getRowOffset,m=e.getRowStartIndexForOffset,p=e.getRowStopIndexForStartIndex,g=e.initInstanceProps,v=e.shouldResetStyleCacheOnItemSizeChange,x=e.validateProps;return t=function(e){var t,r;function w(t){var o;return(o=e.call(this,t)||this)._instanceProps=g(o.props,S(o)),o._resetIsScrollingTimeoutId=null,o._outerRef=void 0,o.state={instance:S(o),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:"number"==typeof o.props.initialScrollLeft?o.props.initialScrollLeft:0,scrollTop:"number"==typeof o.props.initialScrollTop?o.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},o._callOnItemsRendered=void 0,o._callOnItemsRendered=I((function(e,t,r,n,l,i,a,s){return o.props.onItemsRendered({overscanColumnStartIndex:e,overscanColumnStopIndex:t,overscanRowStartIndex:r,overscanRowStopIndex:n,visibleColumnStartIndex:l,visibleColumnStopIndex:i,visibleRowStartIndex:a,visibleRowStopIndex:s})})),o._callOnScroll=void 0,o._callOnScroll=I((function(e,t,r,n,l){return o.props.onScroll({horizontalScrollDirection:r,scrollLeft:e,scrollTop:t,verticalScrollDirection:n,scrollUpdateWasRequested:l})})),o._getItemStyle=void 0,o._getItemStyle=function(e,t){var r,l=o.props,i=l.columnWidth,s=l.direction,c=l.rowHeight,d=o._getItemStyleCache(v&&i,v&&s,v&&c),u=e+":"+t;if(d.hasOwnProperty(u))r=d[u];else{var m=n(o.props,t,o._instanceProps),p="rtl"===s;d[u]=r={position:"absolute",left:p?void 0:m,right:p?m:void 0,top:f(o.props,e,o._instanceProps),height:h(o.props,e,o._instanceProps),width:a(o.props,t,o._instanceProps)}}return r},o._getItemStyleCache=void 0,o._getItemStyleCache=I((function(e,t,o){return{}})),o._onScroll=function(e){var t=e.currentTarget,r=t.clientHeight,n=t.clientWidth,l=t.scrollLeft,i=t.scrollTop,a=t.scrollHeight,s=t.scrollWidth;o.setState((function(e){if(e.scrollLeft===l&&e.scrollTop===i)return null;var t=o.props.direction,c=l;if("rtl"===t)switch(F()){case"negative":c=-l;break;case"positive-descending":c=s-n-l}c=Math.max(0,Math.min(c,s-n));var d=Math.max(0,Math.min(i,a-r));return{isScrolling:!0,horizontalScrollDirection:e.scrollLeft<l?"forward":"backward",scrollLeft:c,scrollTop:d,verticalScrollDirection:e.scrollTop<i?"forward":"backward",scrollUpdateWasRequested:!1}}),o._resetIsScrollingDebounced)},o._outerRefSetter=function(e){var t=o.props.outerRef;o._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},o._resetIsScrollingDebounced=function(){var e,t,r,n;null!==o._resetIsScrollingTimeoutId&&M(o._resetIsScrollingTimeoutId),o._resetIsScrollingTimeoutId=(e=o._resetIsScrolling,t=O,r=R(),n={id:requestAnimationFrame((function o(){R()-r>=t?e.call(null):n.id=requestAnimationFrame(o)}))})},o._resetIsScrolling=function(){o._resetIsScrollingTimeoutId=null,o.setState({isScrolling:!1},(function(){o._getItemStyleCache(-1)}))},o}r=e,(t=w).prototype=Object.create(r.prototype),t.prototype.constructor=t,y(t,r),w.getDerivedStateFromProps=function(e,t){return $(e,t),x(e),null};var b=w.prototype;return b.scrollTo=function(e){var t=e.scrollLeft,o=e.scrollTop;void 0!==t&&(t=Math.max(0,t)),void 0!==o&&(o=Math.max(0,o)),this.setState((function(e){return void 0===t&&(t=e.scrollLeft),void 0===o&&(o=e.scrollTop),e.scrollLeft===t&&e.scrollTop===o?null:{horizontalScrollDirection:e.scrollLeft<t?"forward":"backward",scrollLeft:t,scrollTop:o,scrollUpdateWasRequested:!0,verticalScrollDirection:e.scrollTop<o?"forward":"backward"}}),this._resetIsScrollingDebounced)},b.scrollToItem=function(e){var t=e.align,o=void 0===t?"auto":t,r=e.columnIndex,n=e.rowIndex,l=this.props,i=l.columnCount,a=l.height,h=l.rowCount,f=l.width,m=this.state,p=m.scrollLeft,g=m.scrollTop,v=function(e){if(void 0===e&&(e=!1),-1===T||e){var t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",document.body.appendChild(t),T=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return T}();void 0!==r&&(r=Math.max(0,Math.min(r,i-1))),void 0!==n&&(n=Math.max(0,Math.min(n,h-1)));var x=s(this.props,this._instanceProps),w=c(this.props,this._instanceProps)>f?v:0,C=x>a?v:0;this.scrollTo({scrollLeft:void 0!==r?d(this.props,r,o,p,this._instanceProps,C):p,scrollTop:void 0!==n?u(this.props,n,o,g,this._instanceProps,w):g})},b.componentDidMount=function(){var e=this.props,t=e.initialScrollLeft,o=e.initialScrollTop;if(null!=this._outerRef){var r=this._outerRef;"number"==typeof t&&(r.scrollLeft=t),"number"==typeof o&&(r.scrollTop=o)}this._callPropsCallbacks()},b.componentDidUpdate=function(){var e=this.props.direction,t=this.state,o=t.scrollLeft,r=t.scrollTop;if(t.scrollUpdateWasRequested&&null!=this._outerRef){var n=this._outerRef;if("rtl"===e)switch(F()){case"negative":n.scrollLeft=-o;break;case"positive-ascending":n.scrollLeft=o;break;default:var l=n.clientWidth,i=n.scrollWidth;n.scrollLeft=i-l-o}else n.scrollLeft=Math.max(0,o);n.scrollTop=Math.max(0,r)}this._callPropsCallbacks()},b.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&M(this._resetIsScrollingTimeoutId)},b.render=function(){var e=this.props,t=e.children,r=e.className,n=e.columnCount,l=e.direction,i=e.height,a=e.innerRef,d=e.innerElementType,u=e.innerTagName,h=e.itemData,f=e.itemKey,m=void 0===f?E:f,p=e.outerElementType,g=e.outerTagName,v=e.rowCount,x=e.style,w=e.useIsScrolling,S=e.width,y=this.state.isScrolling,b=this._getHorizontalRangeToRender(),_=b[0],I=b[1],R=this._getVerticalRangeToRender(),M=R[0],T=R[1],P=[];if(n>0&&v)for(var F=M;F<=T;F++)for(var O=_;O<=I;O++)P.push(o(t,{columnIndex:O,data:h,isScrolling:w?y:void 0,key:m({columnIndex:O,data:h,rowIndex:F}),rowIndex:F,style:this._getItemStyle(F,O)}));var W=s(this.props,this._instanceProps),k=c(this.props,this._instanceProps);return o(p||g||"div",{className:r,onScroll:this._onScroll,ref:this._outerRefSetter,style:C({position:"relative",height:i,width:S,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:l},x)},o(d||u||"div",{children:P,ref:a,style:{height:W,pointerEvents:y?"none":void 0,width:k}}))},b._callPropsCallbacks=function(){var e=this.props,t=e.columnCount,o=e.onItemsRendered,r=e.onScroll,n=e.rowCount;if("function"==typeof o&&t>0&&n>0){var l=this._getHorizontalRangeToRender(),i=l[0],a=l[1],s=l[2],c=l[3],d=this._getVerticalRangeToRender(),u=d[0],h=d[1],f=d[2],m=d[3];this._callOnItemsRendered(i,a,u,h,s,c,f,m)}if("function"==typeof r){var p=this.state,g=p.horizontalScrollDirection,v=p.scrollLeft,x=p.scrollTop,w=p.scrollUpdateWasRequested,C=p.verticalScrollDirection;this._callOnScroll(v,x,g,C,w)}},b._getHorizontalRangeToRender=function(){var e=this.props,t=e.columnCount,o=e.overscanColumnCount,r=e.overscanColumnsCount,n=e.overscanCount,a=e.rowCount,s=this.state,c=s.horizontalScrollDirection,d=s.isScrolling,u=s.scrollLeft,h=o||r||n||1;if(0===t||0===a)return[0,0,0,0];var f=l(this.props,u,this._instanceProps),m=i(this.props,f,u,this._instanceProps),p=d&&"backward"!==c?1:Math.max(1,h),g=d&&"forward"!==c?1:Math.max(1,h);return[Math.max(0,f-p),Math.max(0,Math.min(t-1,m+g)),f,m]},b._getVerticalRangeToRender=function(){var e=this.props,t=e.columnCount,o=e.overscanCount,r=e.overscanRowCount,n=e.overscanRowsCount,l=e.rowCount,i=this.state,a=i.isScrolling,s=i.verticalScrollDirection,c=i.scrollTop,d=r||n||o||1;if(0===t||0===l)return[0,0,0,0];var u=m(this.props,c,this._instanceProps),h=p(this.props,u,c,this._instanceProps),f=a&&"backward"!==s?1:Math.max(1,d),g=a&&"forward"!==s?1:Math.max(1,d);return[Math.max(0,u-f),Math.max(0,Math.min(l-1,h+g)),u,h]},w}(r),t.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},t}"production"!==process.env.NODE_ENV&&"undefined"!=typeof window&&void 0!==window.WeakSet&&(W=new WeakSet,k=new WeakSet,N=new WeakSet);var $=function(e,t){var o=e.children,r=e.direction,n=e.height,l=e.innerTagName,i=e.outerTagName,a=e.overscanColumnsCount,s=e.overscanCount,c=e.overscanRowsCount,d=e.width,u=t.instance;if("production"!==process.env.NODE_ENV){if("number"==typeof s&&W&&!W.has(u)&&(W.add(u),console.warn("The overscanCount prop has been deprecated. Please use the overscanColumnCount and overscanRowCount props instead.")),"number"!=typeof a&&"number"!=typeof c||k&&!k.has(u)&&(k.add(u),console.warn("The overscanColumnsCount and overscanRowsCount props have been deprecated. Please use the overscanColumnCount and overscanRowCount props instead.")),null==l&&null==i||N&&!N.has(u)&&(N.add(u),console.warn("The innerTagName and outerTagName props have been deprecated. Please use the innerElementType and outerElementType props instead.")),null==o)throw Error('An invalid "children" prop has been specified. Value should be a React component. "'+(null===o?"null":typeof o)+'" was specified.');switch(r){case"ltr":case"rtl":break;default:throw Error('An invalid "direction" prop has been specified. Value should be either "ltr" or "rtl". "'+r+'" was specified.')}if("number"!=typeof d)throw Error('An invalid "width" prop has been specified. Grids must specify a number for width. "'+(null===d?"null":typeof d)+'" was specified.');if("number"!=typeof n)throw Error('An invalid "height" prop has been specified. Grids must specify a number for height. "'+(null===n?"null":typeof n)+'" was specified.')}},z=function(e,t){var o=e.rowCount,r=t.rowMetadataMap,n=t.estimatedRowHeight,l=t.lastMeasuredRowIndex,i=0;if(l>=o&&(l=o-1),l>=0){var a=r[l];i=a.offset+a.size}return i+(o-l-1)*n},D=function(e,t){var o=e.columnCount,r=t.columnMetadataMap,n=t.estimatedColumnWidth,l=t.lastMeasuredColumnIndex,i=0;if(l>=o&&(l=o-1),l>=0){var a=r[l];i=a.offset+a.size}return i+(o-l-1)*n},A=function(e,t,o,r){var n,l,i;if("column"===e?(n=r.columnMetadataMap,l=t.columnWidth,i=r.lastMeasuredColumnIndex):(n=r.rowMetadataMap,l=t.rowHeight,i=r.lastMeasuredRowIndex),o>i){var a=0;if(i>=0){var s=n[i];a=s.offset+s.size}for(var c=i+1;c<=o;c++){var d=l(c);n[c]={offset:a,size:d},a+=d}"column"===e?r.lastMeasuredColumnIndex=o:r.lastMeasuredRowIndex=o}return n[o]},j=function(e,t,o,r){var n,l;return"column"===e?(n=o.columnMetadataMap,l=o.lastMeasuredColumnIndex):(n=o.rowMetadataMap,l=o.lastMeasuredRowIndex),(l>0?n[l].offset:0)>=r?H(e,t,o,l,0,r):U(e,t,o,Math.max(0,l),r)},H=function(e,t,o,r,n,l){for(;n<=r;){var i=n+Math.floor((r-n)/2),a=A(e,t,i,o).offset;if(a===l)return i;a<l?n=i+1:a>l&&(r=i-1)}return n>0?n-1:0},U=function(e,t,o,r,n){for(var l="column"===e?t.columnCount:t.rowCount,i=1;r<l&&A(e,t,r,o).offset<n;)r+=i,i*=2;return H(e,t,o,Math.min(r,l-1),Math.floor(r/2),n)},Y=function(e,t,o,r,n,l,i){var a="column"===e?t.width:t.height,s=A(e,t,o,l),c="column"===e?D(t,l):z(t,l),d=Math.max(0,Math.min(c-a,s.offset)),u=Math.max(0,s.offset-a+i+s.size);switch("smart"===r&&(r=n>=u-a&&n<=d+a?"auto":"center"),r){case"start":return d;case"end":return u;case"center":return Math.round(u+(d-u)/2);default:return n>=u&&n<=d?n:u>d||n<u?u:d}},q=L({getColumnOffset:function(e,t,o){return A("column",e,t,o).offset},getColumnStartIndexForOffset:function(e,t,o){return j("column",e,o,t)},getColumnStopIndexForStartIndex:function(e,t,o,r){for(var n=e.columnCount,l=e.width,i=A("column",e,t,r),a=o+l,s=i.offset+i.size,c=t;c<n-1&&s<a;)c++,s+=A("column",e,c,r).size;return c},getColumnWidth:function(e,t,o){return o.columnMetadataMap[t].size},getEstimatedTotalHeight:z,getEstimatedTotalWidth:D,getOffsetForColumnAndAlignment:function(e,t,o,r,n,l){return Y("column",e,t,o,r,n,l)},getOffsetForRowAndAlignment:function(e,t,o,r,n,l){return Y("row",e,t,o,r,n,l)},getRowOffset:function(e,t,o){return A("row",e,t,o).offset},getRowHeight:function(e,t,o){return o.rowMetadataMap[t].size},getRowStartIndexForOffset:function(e,t,o){return j("row",e,o,t)},getRowStopIndexForStartIndex:function(e,t,o,r){for(var n=e.rowCount,l=e.height,i=A("row",e,t,r),a=o+l,s=i.offset+i.size,c=t;c<n-1&&s<a;)c++,s+=A("row",e,c,r).size;return c},initInstanceProps:function(e,t){var o=e,r={columnMetadataMap:{},estimatedColumnWidth:o.estimatedColumnWidth||50,estimatedRowHeight:o.estimatedRowHeight||50,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return t.resetAfterColumnIndex=function(e,o){void 0===o&&(o=!0),t.resetAfterIndices({columnIndex:e,shouldForceUpdate:o})},t.resetAfterRowIndex=function(e,o){void 0===o&&(o=!0),t.resetAfterIndices({rowIndex:e,shouldForceUpdate:o})},t.resetAfterIndices=function(e){var o=e.columnIndex,n=e.rowIndex,l=e.shouldForceUpdate,i=void 0===l||l;"number"==typeof o&&(r.lastMeasuredColumnIndex=Math.min(r.lastMeasuredColumnIndex,o-1)),"number"==typeof n&&(r.lastMeasuredRowIndex=Math.min(r.lastMeasuredRowIndex,n-1)),t._getItemStyleCache(-1),i&&t.forceUpdate()},r},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){var t=e.columnWidth,o=e.rowHeight;if("production"!==process.env.NODE_ENV){if("function"!=typeof t)throw Error('An invalid "columnWidth" prop has been specified. Value should be a function. "'+(null===t?"null":typeof t)+'" was specified.');if("function"!=typeof o)throw Error('An invalid "rowHeight" prop has been specified. Value should be a function. "'+(null===o?"null":typeof o)+'" was specified.')}}});process.env.NODE_ENV;let V=-1;function G(e=!1){if(-1===V||e){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",document.body.appendChild(e),V=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return V}const K=({columnIndex:e,data:t,rowIndex:o})=>`${o}:${e}`,B=(e,t,o,r)=>{let n,l,i;if("column"===e?(n=r.columnMetadataMap,l=t.columnWidth,i=r.lastMeasuredColumnIndex):(n=r.rowMetadataMap,l=t.rowHeight,i=r.lastMeasuredRowIndex),o>i){let t=0;if(i>=0){const e=n[i];t=e.offset+e.size}for(let e=i+1;e<=o;e++){let o=l(e);n[e]={offset:t,size:o},t+=o}"column"===e?r.lastMeasuredColumnIndex=o:r.lastMeasuredRowIndex=o}return n[o]},Q=({rowCount:e},{rowMetadataMap:t,estimatedRowHeight:o,lastMeasuredRowIndex:r})=>{let n=0;if(r>=e&&(r=e-1),r>=0){const e=t[r];n=e.offset+e.size}return n+(e-r-1)*o},J=({columnCount:e},{columnMetadataMap:t,estimatedColumnWidth:o,lastMeasuredColumnIndex:r})=>{let n=0;if(r>=e&&(r=e-1),r>=0){const e=t[r];n=e.offset+e.size}return n+(e-r-1)*o},X=(e,t,o,r,n,l,i,a,s)=>{const c="column"===e?a:0,d="column"===e?s:0,u="column"===e?t.width:t.height,h=B(e,t,o,l),f="column"===e?J(t,l):Q(t,l),m=Math.max(0,Math.min(f-u+c,h.offset-c)),p=Math.max(0,h.offset+h.size-u+d+i);switch("smart"===r&&(r=n>=p-u&&n<=m+u?"auto":"center"),r){case"start":return m;case"end":return p;case"center":return Math.round(p+(m-p)/2);default:return n>=p&&n<=m?n:p>m||n<p?p:m}},Z=(e,t,o,r,n,l,i,a)=>X("column",e,t,o,r,n,l,i,a),ee=(e,t,o,r,n,l,i,a)=>X("row",e,t,o,r,n,l,i,a);class te extends q{constructor(e){super(e),this._leftFixedColumnsWidth=0,this._rightFixedColumnsWidth=0,this._firstUnFixedColumn=0,this._firstRightFixedColumn=0,this._updateFixedColumnsVars()}_updateFixedColumnsVars(){const{columnCount:e,columnGetter:t,columnWidth:o}=this.props;this._firstUnFixedColumn=0,this._firstRightFixedColumn=e,this._leftFixedColumnsWidth=0,this._rightFixedColumnsWidth=0,this._lastFixedRenderedContent=void 0,this._lastFixedRenderedRowStartIndex=void 0,this._lastFixedRenderedRowStopIndex=void 0;for(let r=0;r<e;r++){let e=t(r);if("left"!==e.fixed&&!0!==e.fixed)break;this._firstUnFixedColumn++,this._leftFixedColumnsWidth+=o(r)}for(let r=e-1;r>-1;r--){if("right"!==t(r).fixed)break;this._firstRightFixedColumn--,this._rightFixedColumnsWidth+=o(r)}}_renderFixedColumns(t,r,n=!1){const{rerenderFixedColumnOnHorizontalScroll:l,columnWidth:i,rowHeight:a}=this.props;if(!1===l&&!1===n&&this._lastFixedRenderedRowStartIndex===t&&this._lastFixedRenderedRowStopIndex===r)return this._lastFixedRenderedContent;const{width:s,height:c,children:d,itemData:u,columnCount:h,useIsScrolling:f,itemKey:m=K,scrollbarSize:p=G()}=this.props,{isScrolling:g}=this.state,v=[],x=Q(this.props,this._instanceProps)>=c?s-p:s,w=r-t+1;if(this._leftFixedColumnsWidth>0||this._rightFixedColumnsWidth>0)for(let r=0;r<w;r++){const n=[],l=[],s=t+r,c=a(s),p=0===r?(C=this.props,S=s,y=this._instanceProps,B("row",C,S,y).offset):void 0;for(let e=0;e<this._firstUnFixedColumn;e++){const t=i(e),l=o(d,{key:m({columnIndex:e,data:u,rowIndex:s}),rowIndex:s,columnIndex:e,data:u,isScrolling:f?g:void 0,style:{marginLeft:0===r?0:void 0,marginTop:p,width:t,height:c}});n.push(l)}for(let e=this._firstRightFixedColumn;e<h;e++){const t=i(e),n=o(d,{key:m({columnIndex:e,data:u,rowIndex:s}),rowIndex:s,columnIndex:e,data:u,isScrolling:f?g:void 0,style:{marginLeft:0===r?0:void 0,marginTop:p,width:t,height:c}});l.push(n)}(n.length>0||l.length>0)&&v.push(e.createElement("div",{key:`fixed-row-${s}`,"row-index":s,className:"fixed-virtial-grid-row",style:{width:x}},n.length>0&&e.createElement("div",{className:"fixed-virtial-grid-row-left-columns"},n),l.length>0&&e.createElement("div",{className:"fixed-virtial-grid-row-right-columns"},l)))}var C,S,y;return this._lastFixedRenderedRowStartIndex=t,this._lastFixedRenderedRowStopIndex=r,this._lastFixedRenderedContent=v,v}scrollToItem({align:e,rowIndex:t,columnIndex:o}){const{columnCount:r,height:n,rowCount:l,width:i}=this.props,{scrollLeft:a,scrollTop:s}=this.state,{scrollbarSize:c=G()}=this.props;void 0!==o&&(o=Math.max(0,Math.min(o,r-1))),void 0!==t&&(t=Math.max(0,Math.min(t,l-1)));const d=Q(this.props,this._instanceProps),u=J(this.props,this._instanceProps)>i?c:0,h=d>n?c:0;this.scrollTo({scrollLeft:void 0!==o?Z(this.props,o,e,a,this._instanceProps,h,this._leftFixedColumnsWidth,this._rightFixedColumnsWidth):a,scrollTop:void 0!==t?ee(this.props,t,e,s,this._instanceProps,u,this._leftFixedColumnsWidth,this._rightFixedColumnsWidth):s})}render(){const{children:e,className:t,columnCount:r,direction:n,height:l,innerRef:i,innerElementType:a,innerTagName:s,itemData:c,itemKey:d=K,outerElementType:u,outerTagName:h,rowCount:f,style:m,useIsScrolling:g,width:v}=this.props,{isScrolling:x}=this.state,[w,C]=this._getHorizontalRangeToRender(),[S,y]=this._getVerticalRangeToRender(),b=[];if(r>0&&f){for(let t=S;t<=y;t++)for(let r=w;r<=C;r++)r<this._firstUnFixedColumn||r>this._firstRightFixedColumn-1||b.push(o(e,{columnIndex:r,data:c,isScrolling:g?x:void 0,key:d({columnIndex:r,data:c,rowIndex:t}),rowIndex:t,style:this._getItemStyle(t,r)}));const t=this._renderFixedColumns(S,y);t&&b.push(t)}const _=Q(this.props,this._instanceProps),I=J(this.props,this._instanceProps),R=this._leftFixedColumnsWidth>0,M=this._rightFixedColumnsWidth>0;return o(u||h||"div",{className:p(t,{"has-fixed-left-column":R,"has-fixed-right-column":M}),onScroll:this._onScroll,ref:this._outerRefSetter,style:{position:"relative",height:l,width:v,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:n,...m}},o(a||s||"div",{children:b,ref:i,style:{height:_,pointerEvents:x?"none":void 0,width:I}}))}componentDidUpdate(e,t,o){e.columnGetter===this.props.columnGetter&&e.columnCount===this.props.columnCount&&e.columnWidth===this.props.columnWidth||this._updateFixedColumnsVars(),super.componentDidUpdate(e,t,o)}}var oe,re={},ne={get exports(){return re},set exports(e){re=e}},le={},ie={};(oe={get exports(){return ie},set exports(e){ie=e}}).exports=function(e){return e&&e.__esModule?e:{default:e}},oe.exports.__esModule=!0,oe.exports.default=oe.exports;var ae={};Object.defineProperty(ae,"__esModule",{value:!0}),ae.default=void 0;ae.default={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};var se={},ce={},de={};Object.defineProperty(de,"__esModule",{value:!0}),de.default=void 0;var ue={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};de.default=ue;var he={};Object.defineProperty(he,"__esModule",{value:!0}),he.default=void 0;var fe={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};he.default=fe;var me=ie.default;Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=void 0;var pe=me(de),ge=me(he);var ve={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},pe.default),timePickerLocale:Object.assign({},ge.default)};ce.default=ve;var xe=ie.default;Object.defineProperty(se,"__esModule",{value:!0}),se.default=void 0;var we=xe(ce).default;se.default=we;var Ce=ie.default;Object.defineProperty(le,"__esModule",{value:!0}),le.default=void 0;var Se=Ce(ae),ye=Ce(se),be=Ce(ce),_e=Ce(he);const Ie="${label} is not a valid ${type}";var Re={locale:"en",Pagination:Se.default,DatePicker:be.default,TimePicker:_e.default,Calendar:ye.default,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Ie,method:Ie,array:Ie,object:Ie,number:Ie,date:Ie,boolean:Ie,integer:Ie,float:Ie,regexp:Ie,email:Ie,url:Ie,hex:Ie},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"}};le.default=Re,ne.exports=le;var Me=g(re);const Te=({locale:t,scroll:o,gridRef:r,outerGridRef:n,rowHeight:l,columns:i,connectObject:a,normalizeColumns:s,normalizeIndexes:u,rerenderFixedColumnOnHorizontalScroll:m,getColumn:p,rowHeightGetter:g,cellRender:v,onScroll:x})=>{const{locale:w=Me,renderEmpty:C}=e.useContext(c.ConfigContext),S=t&&t.emptyText||C?.("Table")||e.createElement(d,{image:d.PRESENTED_IMAGE_SIMPLE});return(t,c)=>{const{scrollbarSize:d,ref:w,onScroll:C}=c,y=t.length*l,b=t&&t.length>0?null:"function"==typeof S?S():S;h(a,w);const _=e=>{const t=s[e],{width:r,overlap:n}=t;if(n&&n>0){let t=r,o=u[e];for(let e=1;e<n;e++)o++,t+=i[o].width;return o===i.length-1?t-d:t}return y>=o.y&&e===s.length-1?r-d:r},I=function(e,t){if((o=e)&&"[object Function]"==={}.toString.call(o)){let o=0;for(;t-- >0;)o+=e(t);return o}var o;return(t+1)*e-e}(_,s.length-1);return e.createElement("div",{className:"virtual-grid-wrap"},b&&e.createElement("div",{className:"virtual-grid-empty"},b),e.createElement(te,{useIsScrolling:!0,ref:f(r),estimatedColumnWidth:I/s.length,estimatedRowHeight:l,outerRef:n,className:"virtual-grid",width:o.x,height:o.y,columnCount:s.length,rowCount:t.length,rowHeight:g,columnWidth:_,itemData:t,columnGetter:p,rerenderFixedColumnOnHorizontalScroll:m,onScroll:e=>{C({scrollLeft:e.scrollLeft}),x&&x(e)}},v))}};function Pe(t){const{className:o,columns:r,rowHeight:c,scroll:d,gridRef:m,outerGridRef:g,onScroll:v,onChange:x,rerenderFixedColumnOnHorizontalScroll:C,components:S,locale:y}=t,b=n(null),_=n(null),[I]=l((()=>({get scrollLeft(){return _.current?_.current?.state.scrollLeft:0},set scrollLeft(e){if(_.current){if(_.current.state.scrollLeft==e)return;_.current.scrollTo({scrollLeft:e})}}}))),R=i((e=>{if(!S?.header&&e){const t=e.querySelector(".ant-table .ant-table-header");if(t){const e=t.querySelectorAll(".ant-table-thead .ant-table-cell");let o=0;for(let t=0;t<e.length;t++){o+=e[t].getBoundingClientRect().width}t.style.maxWidth=`${o}px`;let r=0,n=0;for(let t=0;t<e.length;t++){const o=e[t];if(!o.classList.contains("ant-table-cell-fix-left"))break;o.style.left=`${r}px`;r+=o.getBoundingClientRect().width}for(let t=e.length-1;t>-1;t--){const o=e[t];if(!o.classList.contains("ant-table-cell-fix-right"))break;o.style.right=`${n}px`;n+=o.getBoundingClientRect().width}}}}),[d.x,d.y,d.scrollToFirstRowOnChange,S?.header]),M=i(((e=0,t=0)=>{R(b.current),d.scrollToFirstRowOnChange&&(I.scrollLeft=0),_.current?.resetAfterIndices({columnIndex:e,rowIndex:t,shouldForceUpdate:!0})}),[I,R]),T=i(((e,t,o,r)=>{R(b.current),x&&x(e,t,o,r),d.scrollToFirstRowOnChange&&M()}),[x,R,M]),[P,F,O,E]=a((()=>{let t=0;const o=[],n=[];r.forEach(((e,r)=>{t>1?t--:(t=e.overlap??0,o.push(e),n.push(r))}));return[o,n,e=>o[e],t=>{const{columnIndex:r}=t,l=n[r],i=o[r];return e.createElement(w,{...t,originalColumnIndex:l,column:i})}]}),[r]),W=i((()=>c),[c]),k=Te({locale:y,scroll:d,gridRef:f(_,m),outerGridRef:g,rowHeight:c,columns:r,connectObject:I,normalizeColumns:P,normalizeIndexes:F,rerenderFixedColumnOnHorizontalScroll:C,getColumn:O,rowHeightGetter:W,cellRender:E,onScroll:v});return s((()=>R(b.current)),[r,R]),e.createElement(u,{...t,ref:e=>{h(e,b),R(e)},className:p("virtual-table",o),components:{...S,body:k},onChange:T})}export{te as Grid,Te as RenderVirtualList,Pe as VirtualTable,Pe as default};
//# sourceMappingURL=index.js.map
